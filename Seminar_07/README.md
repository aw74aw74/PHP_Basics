# ДЗ семинара 7: Улучшение PHP-приложения

В рамках этой ДЗ была проведена работа по значительному улучшению и расширению функциональности учебного PHP-приложения. Ниже перечислены ключевые изменения.

## Реализованный функционал

1.  **Система аутентификации:**
    - Создан механизм входа и выхода из системы (`/auth/login`, `/auth/logout`).
    - Реализовано управление сессиями: после входа в шапке сайта отображается приветствие и ссылка на выход.
    - Добавлена функция **"Запомнить меня"** для постоянной аутентификации с использованием безопасных токенов, которые хранятся в базе данных (`user_tokens`) и cookie.

2.  **Безопасность и валидация:**
    - Все операции по управлению пользователями (создание, обновление, удаление) переведены с GET-запросов на безопасные **POST-формы**.
    - Реализована серверная валидация для очистки всех входящих данных от HTML-тегов, что является базовой защитой от **XSS-атак**.
    - Усилена безопасность cookie для функции "Запомнить меня" с помощью флагов **HttpOnly** (защита от XSS) и **SameSite=Lax** (защита от CSRF).

3.  **Рефакторинг и улучшение архитектуры:**
    - Проведен рефакторинг ядра приложения: логика маршрутизации вынесена из класса `Application` в отдельный класс `Router`, что улучшило следование принципу единственной ответственности (SRP).
    - **Создан абстрактный базовый контроллер (`AbstractController`)**, который централизует общую логику для всех контроллеров (инициализация шаблонизатора, проверка аутентификации пользователя). Это позволило убрать дублирование кода и следовать принципу **DRY (Don't Repeat Yourself)**.

4.  **Улучшения интерфейса (UI/UX):**

## Учетные данные для тестирования

- **URL для входа**: `http://mysite.local/auth/login`
- **Имя пользователя**: Любое имя из списка (например, `admin`, `user1`).
- **Пароль**: `password` (установлен для всех пользователей по умолчанию).
