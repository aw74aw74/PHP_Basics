# ДЗ семинара 6

Этот проект представляет собой простое веб-приложение на PHP, демонстрирующее работу с базой данных MySQL. Вся инфраструктура разворачивается с помощью Docker и Docker Compose.

## Основные возможности

- **Интеграция с MySQL**: Приложение полностью переведено с файловой системы на работу с базой данных MySQL.
- **Автоматическая инициализация БД**: При первом запуске автоматически создается таблица `users` и в нее импортируются начальные данные из файла `storage/birthdays.txt`.
- **CRUD-операции**: Реализован полный набор операций для управления пользователями:
    - Создание (Add)
    - Чтение (Read)
    - Обновление (Update)
    - Удаление (Delete)
- **Улучшенный интерфейс**: Пользователи отображаются в виде таблицы. Добавлены формы для создания и редактирования пользователей.
- **Обработка ошибок**: Реализован глобальный обработчик исключений, который выводит подробную информацию об ошибке на отдельной странице.
- **Надежный запуск в Docker**: Конфигурация Docker Compose настроена так, что PHP-контейнер дожидается полной готовности базы данных перед запуском, что исключает ошибки подключения.

## Структура проекта

- `code/`: Исходный код приложения.
  - `src/`: Основные классы (модели, контроллеры, и т.д.).
  - `vendor/`: Зависимости, управляемые Composer.
  - `storage/`: Файлы для хранения, включая `birthdays.txt`.
- `nginx/`: Конфигурация веб-сервера Nginx.
- `fpm/`, `cli/`: Docker-файлы для сборки PHP-образов.
- `DB/`: Директория для хранения файлов базы данных MySQL (используется bind mount).
- `docker-compose.yaml`: Основной файл для оркестрации контейнеров.

## Как запустить проект

1.  **Установите Docker и Docker Compose.**

2.  **Соберите и запустите контейнеры:**
    Выполните в корневой директории проекта:
    ```bash
    docker-compose up -d --build
    ```

3.  **Установите PHP-зависимости:**
    Если папка `code/vendor` отсутствует или вы обновили `composer.json`, выполните:
    ```bash
    docker-compose run --rm cli composer install
    ```

4.  **Откройте сайт в браузере:**
    Перейдите по адресу `http://mysite.local`.

## Остановка проекта

Чтобы остановить все запущенные контейнеры, выполните:

```bash
docker-compose down
